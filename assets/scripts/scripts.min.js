var addEvent=function(){return document.addEventListener?function(a,b,c){if(a&&a.nodeName||a===window)a.addEventListener(b,c,!1);else if(a&&a.length)for(var d=0;d<a.length;d++)addEvent(a[d],b,c)}:function(a,b,c){if(a&&a.nodeName||a===window)a.attachEvent("on"+b,function(){return c.call(a,window.event)});else if(a&&a.length)for(var d=0;d<a.length;d++)addEvent(a[d],b,c)}}();!function(a,b,c){if(c in b&&b[c]){var d,e=a.location,f=/^(a|html)$/i;a.addEventListener("click",function(a){for(d=a.target;!f.test(d.nodeName);)d=d.parentNode;"href"in d&&(a.preventDefault(),e.href=d.href)},!1)}}(this.document,window.navigator,"standalone"),document.querySelector&&!function(a){var b=a.getElementById("search").querySelector('[type="search"]'),c=a.querySelector('[href="#search"]');setFocus=function(){return b.focus(),!1},addEvent(c,"click",function(a){setFocus()})}(this.document),function(a,b){var c=0,d=10,e=10,f="rgba(0,0,0,0.25)",g=b.getElementById("top"),h=function(){var a=b.documentElement.scrollTop?b.documentElement.scrollTop:b.body.scrollTop,h=Math.min((a-c)/d,e);g.style.boxShadow="0 0 "+h+"px "+f};addEvent(a,"scroll",function(a){h()})}(this,this.document),historyAjax=[],historyAjax.config={title:"Bradshawâ€™s Handbook for Tourists in Great Britain & Ireland"},function(){function a(a,b){for(;a.parentNode;)if(a=a.parentNode,a.tagName===b)return a;return!1}function b(a){var b=a.replace(window.location.protocol+"//","").split("/");return b.shift(),""==b[0]&&(b[0]="home"),b}function c(a,b){var c=document.getElementById(a);if(c){var d=c.getElementsByTagName("a"),e=document.getElementById(a+"-"+b);if(e&&-1==e.className.indexOf("is-active")){for(var f=0,g=d.length;g>f;++f)if(-1!==d[f].className.indexOf("is-active")){d[f].className=d[f].className.replace("is-active","");break}e.className+="is-active"}}}function d(a){var d=b(a);c("nav",d[0]);var e,f=a+(-1==a.indexOf("?")?"?":"&")+"ajax=1";window.XMLHttpRequest?e=new XMLHttpRequest:window.ActiveXObject&&(e=new ActiveXObject("Microsoft.XMLHTTP")),e.open("GET",f,!1),e.setRequestHeader("X-REQUESTED-WITH","xmlhttprequest"),e.onreadystatechange=function(){if(4==e.readyState){document.body.scrollTop=document.documentElement.scrollTop=0,document.getElementById("main").innerHTML=e.responseText;var a=main.getElementsByTagName("h1")[0];if(a){var b="innerText"in document?a.innerText:a.textContent;document.title=b+" - "+historyAjax.config.title}}},e.send(null)}historyAjax.init=function(){window.history&&history.pushState&&(addEvent(window,"click",function(b){var c=b.target;"A"!==c.tagName&&(c=a(c,"A")),c&&-1!==c.href.indexOf(document.domain)&&""==c.target&&-1==c.href.indexOf("#")&&(history.pushState({ajax:!0},null,c.href),d(c.href),b.preventDefault())}),window.setTimeout(function(){addEvent(window,"popstate",function(a){a.state&&d(location.pathname)})},1),history.replaceState({ajax:!0},null,window.location))}}(),historyAjax.init();